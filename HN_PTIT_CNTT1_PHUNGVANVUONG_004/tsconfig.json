{
  "compilerOptions": {
    "target": "es6",
    "module": "commonjs",
    "strict": true,
    "outDir": "./dist"
  },
  "include": ["./src"]
}





































// // Base classes
// class Audience {
//   static idCounter = 1;

//   constructor(name, email, phone) {
//     this.id = Audience.idCounter++;
//     this.name = name;
//     this.email = email;
//     this.phone = phone;
//   }

//   getDetails() {
//     return `ID: ${this.id}, Name: ${this.name}, Email: ${this.email}, Phone: ${this.phone}`;
//   }
// }

// class Movie {
//   static idCounter = 1;

//   constructor(title, genre, ticketPrice) {
//     if (new.target === Movie) {
//       throw new Error("Movie is an abstract class and cannot be instantiated directly.");
//     }
//     this.id = Movie.idCounter++;
//     this.title = title;
//     this.genre = genre;
//     this.ticketPrice = ticketPrice;
//     this.isShowing = true;
//   }

//   startShow() {
//     this.isShowing = true;
//   }

//   stopShow() {
//     this.isShowing = false;
//   }

//   calculateTicketCost(quantity) {
//     throw new Error("Abstract method must be implemented in subclass");
//   }

//   getSpecialOffers() {
//     throw new Error("Abstract method must be implemented in subclass");
//   }

//   getMovieInfo() {
//     throw new Error("Abstract method must be implemented in subclass");
//   }
// }

// // Movie subclasses
// class ActionMovie extends Movie {
//   constructor(title) {
//     super(title, "Action", 100000);
//   }

//   calculateTicketCost(quantity) {
//     return this.ticketPrice * quantity;
//   }

//   getSpecialOffers() {
//     return ["Miễn phí bắp rang", "Tặng poster"];
//   }

//   getMovieInfo() {
//     return "Phim hành động gay cấn, kỹ xảo hoành tráng";
//   }
// }

// class ComedyMovie extends Movie {
//   constructor(title) {
//     super(title, "Comedy", 80000);
//   }

//   calculateTicketCost(quantity) {
//     return quantity > 4 ? this.ticketPrice * quantity * 0.9 : this.ticketPrice * quantity;
//   }

//   getSpecialOffers() {
//     return ["Giảm 10% cho nhóm trên 4 người"];
//   }

//   getMovieInfo() {
//     return "Phim hài nhẹ nhàng, vui nhộn";
//   }
// }

// class AnimationMovie extends Movie {
//   constructor(title) {
//     super(title, "Animation", 90000);
//   }

//   calculateTicketCost(quantity) {
//     return this.ticketPrice * quantity;
//   }

//   getSpecialOffers() {
//     return ["Giảm giá cho trẻ em dưới 12 tuổi"];
//   }

//   getMovieInfo() {
//     return "Phim hoạt hình với hình ảnh sống động";
//   }
// }

// class TicketBooking {
//   static idCounter = 1;

//   constructor(audience, movie, quantity) {
//     this.bookingId = TicketBooking.idCounter++;
//     this.audience = audience;
//     this.movie = movie;
//     this.quantity = quantity;
//     this.totalPrice = movie.calculateTicketCost(quantity);
//   }

//   getDetails() {
//     return `Booking ID: ${this.bookingId}, 
// Audience: ${this.audience.name}, 
// Movie: ${this.movie.title}, 
// Quantity: ${this.quantity}, 
// Total Price: ${this.totalPrice}`;
//   }
// }

// class Cinema {
//   constructor() {
//     this.movies = [];
//     this.audiences = [];
//     this.bookings = [];
//   }

//   addMovie(movie) {
//     this.movies.push(movie);
//     return movie;
//   }

//   addAudience(name, email, phone) {
//     const audience = new Audience(name, email, phone);
//     this.audiences.push(audience);
//     return audience;
//   }

//   bookTickets(audienceId, movieId, quantity) {
//     const audience = this.findAudienceById(this.audiences, audienceId);
//     const movie = this.findMovieById(this.movies, movieId);

//     if (!audience || !movie) {
//       console.log("Audience or Movie not found!");
//       return null;
//     }

//     if (!movie.isShowing) {
//       console.log("Movie is not currently showing!");
//       return null;
//     }

//     const booking = new TicketBooking(audience, movie, quantity);
//     this.bookings.push(booking);
//     return booking;
//   }

//   cancelMovie(movieId) {
//     const movie = this.findMovieById(this.movies, movieId);
//     if (movie) {
//       movie.stopShow();
//       console.log(`Movie "${movie.title}" has been stopped.`);
//     } else {
//       console.log("Movie not found!");
//     }
//   }

//   listShowingMovies() {
//     const showingMovies = this.movies.filter(movie => movie.isShowing);
//     if (showingMovies.length === 0) {
//       console.log("No movies are currently showing.");
//     } else {
//       console.log("Movies currently showing:");
//       showingMovies.forEach(movie => {
//         console.log(`ID: ${movie.id}, Title: ${movie.title}, Genre: ${movie.genre}, Price: ${movie.ticketPrice}`);
//       });
//     }
//   }

//   listAudienceBookings(audienceId) {
//     const audienceBookings = this.bookings.filter(booking => booking.audience.id === audienceId);
//     if (audienceBookings.length === 0) {
//       console.log("No bookings found for this audience.");
//     } else {
//       console.log(`Bookings for audience ID ${audienceId}:`);
//       audienceBookings.forEach(booking => {
//         console.log(booking.getDetails());
//       });
//     }
//   }

//   calculateTotalRevenue() {
//     return this.bookings.reduce((total, booking) => total + booking.totalPrice, 0);
//   }

//   getMovieGenreCount() {
//     const genreCount = this.movies.reduce((count, movie) => {
//       count[movie.genre] = (count[movie.genre] || 0) + 1;
//       return count;
//     }, {});

//     console.log("Movie count by genre:");
//     for (const genre in genreCount) {
//       console.log(`${genre}: ${genreCount[genre]}`);
//     }
//   }

//   getMovieSpecialOffers(movieId) {
//     const movie = this.findMovieById(this.movies, movieId);
//     if (movie) {
//       console.log(`Special offers for "${movie.title}":`);
//       movie.getSpecialOffers().forEach(offer => console.log(`- ${offer}`));
//     } else {
//       console.log("Movie not found!");
//     }
//   }

//   findMovieById(collection, id) {
//     return collection.find(movie => movie.id === id);
//   }

//   findAudienceById(collection, id) {
//     return collection.find(audience => audience.id === id);
//   }

//   findTicketBookingById(collection, id) {
//     return collection.find(booking => booking.bookingId === id);
//   }

//   // Generic find function
//   findById(collection, id) {
//     return collection.find(item => item.id === id);
//   }
// }

// // Main application with prompt menu
// const readline = require('readline');
// const rl = readline.createInterface({
//   input: process.stdin,
//   output: process.stdout
// });

// const cinema = new Cinema();

// // Sample data
// cinema.addMovie(new ActionMovie("Fast and Furious 10"));
// cinema.addMovie(new ComedyMovie("Mr. Bean's Holiday"));
// cinema.addMovie(new AnimationMovie("Toy Story 5"));
// cinema.addAudience("John Doe", "john@example.com", "0123456789");
// cinema.addAudience("Jane Smith", "jane@example.com", "0987654321");

// function displayMenu() {
//   console.log("\n=== Movie Ticket Booking Management System ===");
//   console.log("1. Thêm khán giả mới");
//   console.log("2. Thêm phim mới");
//   console.log("3. Đặt vé");
//   console.log("4. Ngừng chiếu phim");
//   console.log("5. Hiển thị danh sách phim đang chiếu");
//   console.log("6. Hiển thị các đặt vé của một khán giả");
//   console.log("7. Tính và hiển thị tổng doanh thu");
//   console.log("8. Đếm số lượng từng thể loại phim");
//   console.log("9. Tìm kiếm và hiển thị thông tin bằng mã định danh");
//   console.log("10. Hiển thị ưu đãi của một phim");
//   console.log("0. Thoát");
// }

// function prompt(question) {
//   return new Promise(resolve => {
//     rl.question(question, answer => {
//       resolve(answer);
//     });
//   });
// }

// async function handleChoice(choice) {
//   switch (choice) {
//     case '1':
//       await addNewAudience();
//       break;
//     case '2':
//       await addNewMovie();
//       break;
//     case '3':
//       await bookTickets();
//       break;
//     case '4':
//       await cancelMovie();
//       break;
//     case '5':
//       cinema.listShowingMovies();
//       break;
//     case '6':
//       await listAudienceBookings();
//       break;
//     case '7':
//       console.log(`Total Revenue: ${cinema.calculateTotalRevenue()}`);
//       break;
//     case '8':
//       cinema.getMovieGenreCount();
//       break;
//     case '9':
//       await findById();
//       break;
//     case '10':
//       await getMovieSpecialOffers();
//       break;
//     case '0':
//       rl.close();
//       return false;
//     default:
//       console.log("Invalid choice. Please try again.");
//   }
//   return true;
// }

// async function addNewAudience() {
//   const name = await prompt("Enter audience name: ");
//   const email = await prompt("Enter email: ");
//   const phone = await prompt("Enter phone: ");
//   const audience = cinema.addAudience(name, email, phone);
//   console.log(`Added new audience with ID: ${audience.id}`);
// }

// async function addNewMovie() {
//   console.log("Select movie type:");
//   console.log("1. Action");
//   console.log("2. Comedy");
//   console.log("3. Animation");
//   const type = await prompt("Enter your choice (1-3): ");
  
//   const title = await prompt("Enter movie title: ");
//   let movie;
  
//   switch (type) {
//     case '1':
//       movie = cinema.addMovie(new ActionMovie(title));
//       break;
//     case '2':
//       movie = cinema.addMovie(new ComedyMovie(title));
//       break;
//     case '3':
//       movie = cinema.addMovie(new AnimationMovie(title));
//       break;
//     default:
//       console.log("Invalid choice. Movie not added.");
//       return;
//   }
  
//   console.log(`Added new movie with ID: ${movie.id}`);
// }

// async function bookTickets() {
//   const audienceId = parseInt(await prompt("Enter audience ID: "));
//   const movieId = parseInt(await prompt("Enter movie ID: "));
//   const quantity = parseInt(await prompt("Enter number of tickets: "));
  
//   const booking = cinema.bookTickets(audienceId, movieId, quantity);
//   if (booking) {
//     console.log("Booking successful:");
//     console.log(booking.getDetails());
//   }
// }

// async function cancelMovie() {
//   const movieId = parseInt(await prompt("Enter movie ID to cancel: "));
//   cinema.cancelMovie(movieId);
// }

// async function listAudienceBookings() {
//   const audienceId = parseInt(await prompt("Enter audience ID: "));
//   cinema.listAudienceBookings(audienceId);
// }

// async function findById() {
//   console.log("Search by ID for:");
//   console.log("1. Movie");
//   console.log("2. Audience");
//   console.log("3. Booking");
//   const type = await prompt("Enter your choice (1-3): ");
  
//   const id = parseInt(await prompt("Enter ID to search: "));
//   let item;
  
//   switch (type) {
//     case '1':
//       item = cinema.findMovieById(cinema.movies, id);
//       if (item) {
//         console.log(`Movie found: ${item.title}, Genre: ${item.genre}, Showing: ${item.isShowing ? 'Yes' : 'No'}`);
//       } else {
//         console.log("Movie not found.");
//       }
//       break;
//     case '2':
//       item = cinema.findAudienceById(cinema.audiences, id);
//       if (item) {
//         console.log(`Audience found: ${item.getDetails()}`);
//       } else {
//         console.log("Audience not found.");
//       }
//       break;
//     case '3':
//       item = cinema.findTicketBookingById(cinema.bookings, id);
//       if (item) {
//         console.log(`Booking found: ${item.getDetails()}`);
//       } else {
//         console.log("Booking not found.");
//       }
//       break;
//     default:
//       console.log("Invalid choice.");
//   }
// }

// async function getMovieSpecialOffers() {
//   const movieId = parseInt(await prompt("Enter movie ID: "));
//   cinema.getMovieSpecialOffers(movieId);
// }

// async function main() {
//   let running = true;
//   while (running) {
//     displayMenu();
//     const choice = await prompt("Enter your choice (0-10): ");
//     running = await handleChoice(choice);
//   }
// }

// main().then(() => {
//   console.log("Goodbye!");
// }).catch(err => {
//   console.error("An error occurred:", err);
// });




































